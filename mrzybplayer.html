<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Player All-in-One</title>
<style>
  body { font-family: Arial, sans-serif; background: #111; color: #fff; text-align: center; margin:0; padding:20px;}
  .container { max-width: 800px; margin:auto; }
  input, button { padding:10px; margin:5px; border-radius:5px; border:none; }
  input { width:70%; }
  button { background:#0a84ff; color:#fff; cursor:pointer; }
  button:hover { background:#0066cc; }
  video { width:100%; max-height:500px; margin-top:20px; border-radius:10px; background:#000;}
  .output { margin-top:15px; }
</style>
</head>
<body>
<div class="container">
  <h2>MRZYB-PLAYER</h2>
  <p>Masukkan link video MP4:</p>
  <input type="text" id="videoLink" placeholder="Paste link MP4 di sini">
  <button onclick="generateVideo()">Tonton</button>

  <div class="output" id="result"></div>
  <video id="player" controls></video>
</div>

<script>
function generateVideo(){
  const link = document.getElementById("videoLink").value.trim();
  if(!link) return;
  
  // Encode Base64 untuk share link (opsional)
  const encoded = btoa(link);
  const finalUrl = window.location.origin + window.location.pathname + "?video=" + encoded;
  document.getElementById("result").innerHTML = `
    <p>Link share (siap copy):</p>
    <input type="text" value="${finalUrl}" readonly onclick="this.select()">
  `;

  // Tampilkan video
  const player = document.getElementById("player");
  player.src = link;
  player.load();
  player.play();
}

// Jika halaman dibuka dengan ?video=BASE64
window.onload = function(){
  const params = new URLSearchParams(window.location.search);
  const encoded = params.get("video");
  if(encoded){
    try{
      const url = atob(encoded);
      const player = document.getElementById("player");
      player.src = url;
      player.load();
      player.play();
    } catch(e){
      document.getElementById("result").innerHTML = "<p>Link video tidak valid!</p>";
    }
  }
};
</script>
</body>
</html>
